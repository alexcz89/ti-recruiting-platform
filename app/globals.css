@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===============================
   Base / Reset
   =============================== */

/* Fuente global (usa la variable de Inter que inyecta layout.tsx) */
html {
  font-family: var(--font-inter), ui-sans-serif, system-ui, -apple-system,
    BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans",
    sans-serif;
  scroll-behavior: smooth;
}

/* Reset base */
* { @apply box-border; }

body {
  @apply min-h-screen antialiased text-zinc-800
    bg-gradient-to-br from-brand via-white to-emerald-50
    dark:from-zinc-950 dark:via-zinc-900 dark:to-zinc-950 dark:text-zinc-100;
  margin: 0;
  padding: 0;
}

/* Links */
a { @apply text-blue-600 hover:underline dark:text-blue-400; }

/* Botones */
button { @apply cursor-pointer; }

/* Scrollbar estilizada */
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-thumb { @apply bg-zinc-400/50 rounded-md dark:bg-zinc-700/70; }
::-webkit-scrollbar-track { @apply bg-transparent; }

/* üîß Evitar desbordes de texto largo sin espacios */
p, span, div {
  overflow-wrap: anywhere;
  word-break: break-word;
  white-space: normal;
  hyphens: auto;
}

/* Para tarjetas/listas de vacantes */
.jobs-list li,
.job-detail {
  overflow-wrap: anywhere;
  word-break: break-word;
  white-space: normal;
  max-width: 100%;
}

/* Limitar altura de descripciones en listas (ej. panel izquierdo) */
.jobs-list .description {
  display: -webkit-box;
  -webkit-line-clamp: 2; /* m√°ximo 2 l√≠neas */
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* ===============================
   Design Tokens (Claro / Oscuro)
   =============================== */
:root{
  /* fondos elevaci√≥n (glass) */
  --bg-elev-1: 255 255 255 / 0.85;    /* vidrio claro */
  --bg-elev-2: 255 255 255 / 1;       /* blanco s√≥lido */
  /* bordes y texto */
  --border: 228 228 231;              /* zinc-200 */
  --text: 24 24 27;                   /* zinc-900 */
  --muted: 113 113 122;               /* zinc-500 */
  --ring: 0 0 0 / 0.06;               /* focus ring sutil */
}

.dark:root{
  --bg-elev-1: 24 24 27 / 0.70;       /* zinc-900/70 */
  --bg-elev-2: 24 24 27 / 0.85;       /* zinc-900/85 */
  --border: 39 39 42;                 /* zinc-800 */
  --text: 244 244 245;                /* zinc-100 */
  --muted: 161 161 170;               /* zinc-400 */
  --ring: 255 255 255 / 0.06;
}

/* ===============================
   Utilidades reutilizables
   =============================== */
@layer components {
  /* Tarjetas ‚Äúglass‚Äù coherentes en ambos temas */
  .glass-card{
    @apply rounded-2xl border shadow-sm backdrop-blur;
    background: color-mix(in oklab, transparent, rgb(var(--bg-elev-1)));
    border-color: rgb(var(--border));
  }

  /* Paneles un poco m√°s s√≥lidos */
  .soft-panel{
    @apply rounded-2xl border shadow-sm backdrop-blur;
    background: color-mix(in oklab, transparent, rgb(var(--bg-elev-2)));
    border-color: rgb(var(--border));
  }

  /* Tipograf√≠as con contraste correcto */
  .text-default { color: rgb(var(--text)); }
  .text-muted  { color: rgb(var(--muted)); }

  /* Campos de formulario */
  .field{
    @apply w-full rounded-xl border px-3 py-2 text-sm outline-none transition;
    border-color: rgb(var(--border));
    background-color: color-mix(in oklab, white 2%, rgb(var(--bg-elev-1)));
  }
  .field:focus{
    box-shadow: 0 0 0 .2rem rgba(var(--ring));
    @apply border-emerald-400;
  }

  /* Botones */
  .btn{
    @apply inline-flex items-center justify-center gap-2 rounded-xl px-3.5 py-2 text-sm font-medium transition active:scale-[.99] focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400/60;
  }
  .btn-primary { @apply bg-emerald-600 text-white hover:bg-emerald-700; }

  /* Ghost con mismas dimensiones que .btn */
  .btn-ghost{
    @apply inline-flex items-center justify-center gap-2 rounded-xl px-3.5 py-2 text-sm font-medium transition active:scale-[.99] border focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400/50;
    border-color: rgb(var(--border));
    background: color-mix(in oklab, transparent, rgb(var(--bg-elev-1)));
  }
  .btn-ghost:hover{
    background: color-mix(in oklab, transparent, rgb(var(--bg-elev-2)));
  }

  /* Chips / Badges (base) */
  .badge{
    @apply inline-flex items-center rounded-full border px-2 py-0.5 text-[11px] font-medium;
    border-color: rgb(var(--border));
    background: color-mix(in oklab, transparent, rgb(var(--bg-elev-1)));
    color: rgb(var(--text));
  }
  .badge-emerald{
    @apply border-emerald-200/50 text-emerald-700 dark:text-emerald-300;
    background: color-mix(in oklab, transparent, rgb(16 185 129 / 0.10));
  }

  /* Mejora de contraste en oscuro para cualquier .badge */
  .dark .badge{
    background-color: rgba(24,24,27,.55); /* zinc-900 ~55% */
    border-color: rgb(63 63 70);          /* zinc-700 */
    color: rgb(244 244 245);              /* zinc-100 */
  }
  .dark .badge-emerald{
    background-color: rgba(16,185,129,.16);
    border-color: rgba(16,185,129,.35);
    color: rgb(110 231 183);              /* emerald-300 */
  }

  /* ===== Progress bar (para skills) ===== */
  .progress {
    @apply w-full h-1.5 rounded-full overflow-hidden;
    background: color-mix(in oklab, transparent, rgb(var(--bg-elev-2)));
    border: 1px solid rgb(var(--border));
  }
  .progress-bar {
    @apply h-full rounded-full bg-emerald-500;
  }

  /* ===== Timeline (experiencia) ===== */
  .timeline { @apply relative; }
  .timeline-item {
    @apply relative pl-6 border-l;
    border-color: rgb(var(--border));
  }
  .timeline-item::before{
    content: "";
    position: absolute;
    left: -0.41rem; /* ~ -6.5px */
    top: 0.45rem;
    width: 0.5rem; height: 0.5rem;
    border-radius: 9999px;
    background: rgb(var(--bg-elev-2));
    border: 1px solid rgb(var(--border));
    box-shadow: 0 0 0 2px color-mix(in oklab, transparent, rgb(var(--bg-elev-1)));
  }

  /* ===== KPI / Stats ===== */
  .stat {
    @apply glass-card p-4;
  }
  .stat-label { @apply text-xs text-muted; }
  .stat-value { @apply text-2xl font-semibold text-default; }
}

/* === Fix: listas dentro del JobRichTextEditor === */
.job-editor ul {
  list-style-type: disc !important;
  margin-left: 1.5rem !important;
  padding-left: 0 !important;
}

.job-editor ol {
  list-style-type: decimal !important;
  margin-left: 1.5rem !important;
  padding-left: 0 !important;
}

.job-editor li {
  margin-bottom: 0.2rem !important;
}

/* Listas dentro del contenido HTML de las vacantes */
.job-html ul {
  list-style-type: disc;
  margin-left: 1.25rem;
  padding-left: 1.25rem;
}

.job-html ol {
  list-style-type: decimal;
  margin-left: 1.25rem;
  padding-left: 1.25rem;
}

.job-html li {
  margin-top: 0.125rem;
  margin-bottom: 0.125rem;
}
