@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===============================
   Base / Reset
   =============================== */

/* Fuente global (usa la variable de Inter que inyecta layout.tsx) */
html {
  font-family: var(--font-inter), ui-sans-serif, system-ui, -apple-system,
    BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans",
    sans-serif;
  scroll-behavior: smooth;
}

/* Reset base */
* { @apply box-border; }

body {
  @apply min-h-screen antialiased;
  background-color: #fafafa !important; /* zinc-50 - gris muy claro profesional */
  color: #18181b; /* zinc-900 */
  margin: 0;
  padding: 0;
}

.dark body {
  background-color: #09090b !important; /* zinc-950 - negro suave */
  color: #fafafa; /* zinc-50 */
}

/* Links */
a { @apply text-blue-600 hover:underline dark:text-blue-400; }

/* Botones */
button { @apply cursor-pointer; }

/* Scrollbar estilizada */
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-thumb { @apply bg-zinc-400/50 rounded-md dark:bg-zinc-700/70; }
::-webkit-scrollbar-track { @apply bg-transparent; }

/* üîß Evitar desbordes de texto largo sin espacios */
p, span, div {
  overflow-wrap: anywhere;
  word-break: break-word;
  white-space: normal;
  hyphens: auto;
}

/* Para tarjetas/listas de vacantes */
.jobs-list li,
.job-detail {
  overflow-wrap: anywhere;
  word-break: break-word;
  white-space: normal;
  max-width: 100%;
}

/* Limitar altura de descripciones en listas (ej. panel izquierdo) */
.jobs-list .description {
  display: -webkit-box;
  -webkit-line-clamp: 2; /* m√°ximo 2 l√≠neas */
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* ===============================
   Design Tokens (Claro / Oscuro)
   =============================== */
:root{
  /* Backgrounds s√≥lidos */
  --background: 255 255 255;          /* blanco puro */
  --foreground: 24 24 27;             /* zinc-900 */
  --card: 255 255 255;                /* blanco */
  
  /* fondos elevaci√≥n (glass) */
  --bg-elev-1: 255 255 255 / 0.85;    /* vidrio claro */
  --bg-elev-2: 255 255 255 / 1;       /* blanco s√≥lido */
  /* bordes y texto */
  --border: 228 228 231;              /* zinc-200 */
  --text: 24 24 27;                   /* zinc-900 */
  --muted: 113 113 122;               /* zinc-500 */
  --ring: 0 0 0 / 0.06;               /* focus ring sutil */
}

.dark{
  /* Backgrounds s√≥lidos en modo oscuro */
  --background: 9 9 11;               /* zinc-950 */
  --foreground: 250 250 250;          /* zinc-50 */
  --card: 24 24 27;                   /* zinc-900 */
  
  --bg-elev-1: 24 24 27 / 0.70;       /* zinc-900/70 */
  --bg-elev-2: 24 24 27 / 0.85;       /* zinc-900/85 */
  --border: 39 39 42;                 /* zinc-800 */
  --text: 244 244 245;                /* zinc-100 */
  --muted: 161 161 170;               /* zinc-400 */
  --ring: 255 255 255 / 0.06;
}

/* ===============================
   Utilidades reutilizables
   =============================== */
@layer components {
  /* Tarjetas "glass" coherentes en ambos temas */
  .glass-card{
    @apply rounded-2xl border shadow-sm backdrop-blur;
    background: color-mix(in oklab, transparent, rgb(var(--bg-elev-1)));
    border-color: rgb(var(--border));
  }

  /* Paneles un poco m√°s s√≥lidos */
  .soft-panel{
    @apply rounded-2xl border shadow-sm backdrop-blur;
    background: color-mix(in oklab, transparent, rgb(var(--bg-elev-2)));
    border-color: rgb(var(--border));
  }

  /* Tipograf√≠as con contraste correcto */
  .text-default { color: rgb(var(--text)); }
  .text-muted  { color: rgb(var(--muted)); }

  /* Campos de formulario */
  .field{
    @apply w-full rounded-xl border px-3 py-2 text-sm outline-none transition;
    border-color: rgb(var(--border));
    background-color: color-mix(in oklab, white 2%, rgb(var(--bg-elev-1)));
  }
  .field:focus{
    box-shadow: 0 0 0 .2rem rgba(var(--ring));
    @apply border-emerald-400;
  }

  /* Botones */
  .btn{
    @apply inline-flex items-center justify-center gap-2 rounded-xl px-3.5 py-2 text-sm font-medium transition active:scale-[.99] focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400/60 disabled:opacity-50 disabled:cursor-not-allowed;
  }
  .btn-primary { 
    @apply bg-emerald-600 text-white hover:bg-emerald-700 disabled:hover:bg-emerald-600; 
  }
  .btn-secondary { 
    @apply bg-violet-600 text-white hover:bg-violet-700 disabled:hover:bg-violet-600; 
  }

  /* Ghost con mismas dimensiones que .btn */
  .btn-ghost{
    @apply inline-flex items-center justify-center gap-2 rounded-xl px-3.5 py-2 text-sm font-medium transition active:scale-[.99] border focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400/50;
    border-color: rgb(var(--border));
    background: color-mix(in oklab, transparent, rgb(var(--bg-elev-1)));
  }
  .btn-ghost:hover{
    background: color-mix(in oklab, transparent, rgb(var(--bg-elev-2)));
  }

  /* Chips / Badges (base) */
  .badge{
    @apply inline-flex items-center rounded-full border px-2 py-0.5 text-[11px] font-medium;
    border-color: rgb(var(--border));
    background: color-mix(in oklab, transparent, rgb(var(--bg-elev-1)));
    color: rgb(var(--text));
  }
  .badge-emerald{
    @apply border-emerald-200/50 text-emerald-700 dark:text-emerald-300;
    background: color-mix(in oklab, transparent, rgb(16 185 129 / 0.10));
  }

  /* Mejora de contraste en oscuro para cualquier .badge */
  .dark .badge{
    background-color: rgba(24,24,27,.55); /* zinc-900 ~55% */
    border-color: rgb(63 63 70);          /* zinc-700 */
    color: rgb(244 244 245);              /* zinc-100 */
  }
  .dark .badge-emerald{
    background-color: rgba(16,185,129,.16);
    border-color: rgba(16,185,129,.35);
    color: rgb(110 231 183);              /* emerald-300 */
  }

  /* ===== Progress bar (para skills) ===== */
  .progress {
    @apply w-full h-1.5 rounded-full overflow-hidden;
    background: color-mix(in oklab, transparent, rgb(var(--bg-elev-2)));
    border: 1px solid rgb(var(--border));
  }
  .progress-bar {
    @apply h-full rounded-full bg-emerald-500;
  }

  /* ===== Timeline (experiencia) ===== */
  .timeline { @apply relative; }
  .timeline-item {
    @apply relative pl-6 border-l;
    border-color: rgb(var(--border));
  }
  .timeline-item::before{
    content: "";
    position: absolute;
    left: -0.41rem; /* ~ -6.5px */
    top: 0.45rem;
    width: 0.5rem; height: 0.5rem;
    border-radius: 9999px;
    background: rgb(var(--bg-elev-2));
    border: 1px solid rgb(var(--border));
    box-shadow: 0 0 0 2px color-mix(in oklab, transparent, rgb(var(--bg-elev-1)));
  }

  /* ===== KPI / Stats ===== */
  .stat {
    @apply glass-card p-4;
  }
  .stat-label { @apply text-xs text-muted; }
  .stat-value { @apply text-2xl font-semibold text-default; }
}

/* === Fix: listas dentro del JobRichTextEditor === */
.job-editor ul {
  list-style-type: disc !important;
  margin-left: 1.5rem !important;
  padding-left: 0 !important;
}

.job-editor ol {
  list-style-type: decimal !important;
  margin-left: 1.5rem !important;
  padding-left: 0 !important;
}

.job-editor li {
  margin-bottom: 0.2rem !important;
}

/* Listas dentro del contenido HTML de las vacantes */
.job-html ul {
  list-style-type: disc;
  margin-left: 1.25rem;
  padding-left: 1.25rem;
}

.job-html ol {
  list-style-type: decimal;
  margin-left: 1.25rem;
  padding-left: 1.25rem;
}

.job-html li {
  margin-top: 0.125rem;
  margin-bottom: 0.125rem;
}

/* ============================================
   Phone input (react-phone-input-2) ‚Äì theming
   ============================================ */

/* contenedor principal que pasamos como containerClass */
.bt-phone-input {
  width: 100%;
}

/* Input: solo colores, bordes y tipograf√≠a.
   El layout (padding para la bandera, etc.) lo maneja el CSS de la librer√≠a. */
.bt-phone-input .bt-phone-input-input.form-control {
  width: 100%;
  border-radius: 0.75rem;
  border-color: rgb(var(--border));
  font-size: 0.875rem;
  background-color: color-mix(in oklab, white 2%, rgb(var(--bg-elev-1)));
  color: rgb(var(--text));
}

/* Focus */
.bt-phone-input .bt-phone-input-input.form-control:focus {
  outline: none;
  box-shadow: 0 0 0 .2rem rgba(var(--ring));
  border-color: rgb(16 185 129); /* emerald-500 */
}

/* Contenedor de la bandera (usa buttonClass) */
.bt-phone-input .flag-dropdown.bt-phone-input-flag {
  border-radius: 0.75rem 0 0 0.75rem;
  border-color: rgb(var(--border));
  background-color: color-mix(in oklab, white 2%, rgb(var(--bg-elev-1)));
}

/* Bandera seleccionada sin fondo gris por defecto */
.bt-phone-input .flag-dropdown.bt-phone-input-flag .selected-flag {
  background: transparent;
}

/* Dropdown de pa√≠ses */
.bt-phone-input .country-list {
  border-radius: 0.75rem;
  border-color: rgb(var(--border));
}

/* ====== Dark mode ====== */

.dark .bt-phone-input .bt-phone-input-input.form-control {
  background-color: #09090b;
  color: #f9fafb;
  border-color: #3f3f46; /* zinc-700 */
}

.dark .bt-phone-input .flag-dropdown.bt-phone-input-flag {
  background-color: #09090b;
  border-color: #3f3f46;
}

.dark .bt-phone-input .country-list {
  background-color: #09090b;
  color: #e5e5e5;
  border-color: #3f3f46;
}

/* ==============================
   PhoneInput ‚Äì lista de pa√≠ses
   ============================== */

.bt-phone-input .country-list {
  background-color: #ffffff;
  color: #111827;
  border-radius: 0.75rem;
  border-color: rgb(var(--border));
  font-size: 0.875rem;
}

/* Cada pa√≠s */
.bt-phone-input .country-list .country {
  padding: 0.35rem 0.75rem;
}

/* Hover / elemento activo */
.bt-phone-input .country-list .country:hover,
.bt-phone-input .country-list .country.highlight {
  background-color: rgba(16, 185, 129, 0.12); /* emerald suave */
}

/* C√≥digo de marcaci√≥n un poquito m√°s tenue */
.bt-phone-input .country-list .dial-code {
  color: #6b7280; /* zinc-500 */
}

/* ===== Dark mode ===== */

.dark .bt-phone-input .country-list {
  background-color: #09090b;
  color: #e5e7eb;
  border-color: #3f3f46;
}

.dark .bt-phone-input .country-list .country:hover,
.dark .bt-phone-input .country-list .country.highlight {
  background-color: rgba(52, 211, 153, 0.18); /* emerald-400 m√°s notorio */
}

.dark .bt-phone-input .country-list .dial-code {
  color: #9ca3af; /* zinc-400 */
}

/* Cuando se abre el dropdown de la LADA, que NO ponga fondo blanco */
.bt-phone-input .flag-dropdown.open,
.bt-phone-input .flag-dropdown.open .selected-flag {
  background: transparent !important;
}

/* Tambi√©n al hacer hover sobre la banderita */
.bt-phone-input .selected-flag:hover {
  background: transparent !important;
}

/* Versi√≥n expl√≠cita para dark mode (por si acaso) */
.dark .bt-phone-input .flag-dropdown.open,
.dark .bt-phone-input .flag-dropdown.open .selected-flag,
.dark .bt-phone-input .selected-flag:hover {
  background: transparent !important;
}

/* ===============================
   Animaciones para Landing Page
   =============================== */

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slide-in-from-top {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes gradient {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

.animate-fade-in {
  animation: fade-in 0.6s ease-out forwards;
}

.animate-fade-in-up {
  animation: fade-in-up 0.8s ease-out forwards;
}

.animate-in {
  animation-fill-mode: both;
}

.fade-in {
  animation-name: fade-in;
}

.slide-in-from-top-2 {
  animation-name: slide-in-from-top;
}

.duration-200 {
  animation-duration: 0.2s;
}

.animate-gradient {
  background-size: 200% 200%;
  animation: gradient 3s ease infinite;
}

.animation-delay-200 {
  animation-delay: 0.2s;
  opacity: 0;
}

.animation-delay-300 {
  animation-delay: 0.3s;
  opacity: 0;
}

.animation-delay-400 {
  animation-delay: 0.4s;
  opacity: 0;
}

.animation-delay-500 {
  animation-delay: 0.5s;
  opacity: 0;
}

.animation-delay-600 {
  animation-delay: 0.6s;
  opacity: 0;
}